<!DOCTYPE html><html><head><head> <!-- Include Meta Tags Here --><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="viewport" content="width=device-width, height=device-height, initial-scale=1 user-scalable=no, shrink-to-fit=no"><meta content='#000000' name='theme-color'/><meta name="keywords" content="Blog, CCIE, Cisco, Wireshark, PCAP, Suricata, Bro, Zeek"><title>Failing Forward | How to Expand Partitions on Surface Pro</title><!-- Open Graph general (Facebook, Pinterest & Google+) --><meta name="og:title" content="Failing Forward | How to Expand Partitions on Surface Pro"><meta name="og:description" content="Modifying partitions on Surface Pro 5 using GParted."><meta name="og:image" content="/assets/images/posts/2021-01-09-partitions/title.png"><meta name="og:image:alt" content="Failing Forward | How to Expand Partitions on Surface Pro"><meta name="og:url" content="https://blog.showipintbri.com/blog/partitions"><meta name="article:author" content="https://www.facebook.com/NetCollectivePC"><meta name="og:site_name" content="Failing Forward | How to Expand Partitions on Surface Pro"><meta name="og:type" content="website"> <!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Failing Forward | How to Expand Partitions on Surface Pro"><meta name="twitter:description" content="Modifying partitions on Surface Pro 5 using GParted."><meta name="twitter:site" content="@showipintbri"><meta name="twitter:creator" content="@showipintbri"><meta name="twitter:image" content="https://blog.showipintbri.com/assets/images/posts/2021-01-09-partitions/title.png"> <!-- Search Engine --><meta name="description" content="Modifying partitions on Surface Pro 5 using GParted."><meta name="image" content="/assets/images/posts/2021-01-09-partitions/title.png"> <!-- Schema.org for Google --><meta itemprop="name" content="Failing Forward | How to Expand Partitions on Surface Pro"><meta name="author" content="Tony E."/><meta itemprop="description" content="Modifying partitions on Surface Pro 5 using GParted."><meta itemprop="image" content="/assets/images/posts/2021-01-09-partitions/title.png"><title>Failing Forward</title><link rel="stylesheet" href="/assets/css/style.css"> <script src="https://kit.fontawesome.com/6a97161b76.js" crossorigin="anonymous"></script><link rel="shortcut icon" href="https://blog.showipintbri.com/assets/images/logo.png" type="image/x-icon"></head></head><body><nav class="navbar is-black is-fixed-top" role="navigation" aria-label="main navigation" id="navbar"><div class="container"> <!-- logo or branding image on left side --><div class="navbar-brand"> <a class="navbar-item" href="https://blog.showipintbri.com/"> <strong>Failing Forward</strong> </a><div class="navbar-burger" data-target="navbar-menu"> <span></span> <span></span> <span></span>
</div>
</div>
<!-- children of navbar-menu must be navbar-start and/or navbar-end --><div class="navbar-menu has-background-black" id="navbar-menu"> <!-- navbar items | left side --> <!--<div class="navbar-start"></div>--> <!-- navbar items | right side --><div class="navbar-end"> <a class="navbar-item " href="https://blog.showipintbri.com/">HOME</a> <a class="navbar-item" href="https://blog.showipintbri.com/#about">ABOUT</a> <a class="navbar-item" href="https://blog.showipintbri.com/#contact">CONTACT</a><div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link"> BLOG </a><div class="navbar-dropdown has-background-black is-left"> <a href="https://blog.showipintbri.com/blog" class="navbar-item has-text-grey-light "> BLOG POSTS </a> <a href="https://blog.showipintbri.com/tags" class="navbar-item has-text-grey-light "> TAGS </a> <!-- <a href="https://blog.showipintbri.com/categories" class="navbar-item has-text-grey-light "> CATEGORIES </a> <a href="https://blog.showipintbri.com/search" class="navbar-item has-text-grey-light "> SEARCH </a> -->
</div>
</div>
</div>
</div>
</div></nav><!-- Bulma Navbar JS --> <script> document.addEventListener('DOMContentLoaded', function () { /* Get all "navbar-burger" elements */ var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0); /* Check if there are any navbar burgers */ if ($navbarBurgers.length > 0) { /* Add a click event on each of them */ $navbarBurgers.forEach(function ($el) { $el.addEventListener('click', function () { /* Get the target from the "data-target" attribute */ var target = $el.dataset.target; var $target = document.getElementById(target); /* Toggle the class on both the "navbar-burger" and the "navbar-menu" */ $el.classList.toggle('is-active'); $target.classList.toggle('is-active'); }); }); } }); </script><section class="hero is-fullheight has-text-centered" id="post"><div class="hero-body"><div class="container"> <a href="/blog/partitions" class="has-text-black" id="title"><h1 class="title has-text-centered is-2 has-text-weight-semibold ">How to Expand Partitions on Surface Pro</h1></a><hr class="has-background-black">
<div class="columns is-variable is-5">
<div class="column is-6"><figure class="image is-16by9 has-shadow"> <img src="/assets/images/posts/2021-01-09-partitions/title.png" alt="" id="post-image"></figure></div>
<div class="subtitle column is-5 has-text-left-desktop has-text-left-fullhd has-text-left-tablet has-text-center-mobile">
<p id="description" class="content is-small has-text-weight-medium is-uppercase">Modifying partitions on Surface Pro 5 using GParted.</p>
<p class="subtitle is-6 is-uppercase has-text-weight-normal has-text-black-ter">Published on <b>January 09, 2021</b> by <a href="https://twitter.com/showipintbri" target="_blank"><b class="has-text-link"><u>Tony E.</u></b> </a></p>
<p class="subtitle is-uppercase"> <i class="fas fa-tags"></i> <a href="/blog/tag/surface-pro"><span class="tag is-link">surface pro</span></a> <a href="/blog/tag/gparted"><span class="tag is-link">gparted</span></a> <a href="/blog/tag/partitions"><span class="tag is-link">partitions</span></a></p>
<p class="subtitle is-uppercase"><i class="fas fa-clock"></i> <b class="has-text-link"> 4 min </b>READ</p>
</div>
</div>
<div class="content has-text-left-desktop has-text-left-fullhd has-text-left has-text-left-tablet has-text-left-mobile">
<p></p>
<h2 id="tldr">TL;DR</h2>
<p>I couldn’t expand the Primary partition because there was another partition in the way. I needed to move the small partition before I could expand the primary.</p>
<h4 id="background">Background</h4>
<p>I had a Surface Pro 4 that suffered from the ‘<a href="https://answers.microsoft.com/en-us/search/search?SearchTerm=Surface%20Pro%204%20swelling&amp;tab=&amp;status=all&amp;advFil=&amp;IsSuggestedTerm=false&amp;isFilterExpanded=undefined&amp;CurrentScope.ForumName=surface&amp;CurrentScope.Filter=surfpro4-surfperf&amp;ContentTypeScope=QnA,Discussion,Article,MicrosoftSupport&amp;page=1&amp;sort=Relevance&amp;dir=Desc&amp;from=threadpagesearchbar">Battery Swelling</a>’ issue. My Surface Pro 4 had a 256GB storage. The Microsoft store replaced my product with the closest thing they had in stock which was a Surface Pro 5 with 512GB storage. They offerred to backup my data making a 1:1 copy of the entire storage of the Pro 4 and put it on the Pro 5. I returned the next day to pick up my new Surface Pro 5. Under the kickstand it has the “512GB” storage identifier but under “This PC” in file explorer it shows the “C:" drive as being only 256GB total. I checked the partition table using the windows tool and it showed another 256GB unallocated. I keep my storage pretty lean so this wasn’t an immediate concern but eventually I knew I needed to claim that unallocated space.</p>
<p>On the right side of the Primary “Windows” partition is a recovery partition. When this was copied over to a larger capacity sotrage it retained its size and capacity.</p>
<p align="center"> <img src="/assets/images/posts/2021-01-09-partitions/part.png"></p>
<p>While it would’ve been very easy for me to right-click in the “Disk Management” tool in Windows, format the unallocated space creating a “D:" drive which was 256GB in size but I didn’t want that. I wanted the maximum allocatable space to all belong to the “C:" drive. This would require me to reloacte the “Recovery” partition all the way to the right of the entire disk, then expanding the Primary Windows Partition to claim the rest of the unallocated space.</p>
<p>I found this was best accomplished with a GUI utility because I wasn’t familiar with the available CLI options. All in all this process took about 10 minutes.</p>
<h4 id="materials">Materials</h4>
<ul>
<li>Thumb Drive you can wipe</li>
<li><a href="https://gparted.org/livecd.php">GParted Live</a></li>
</ul>
<h2 id="warning-make-sure-you-have-current-full-system-backup-before-proceding">WARNING: MAKE SURE YOU HAVE CURRENT FULL SYSTEM BACKUP BEFORE PROCEDING</h2>
<h4 id="procedure">Procedure</h4>
<ol>
<li>Create the bootable thumb drive.<br><ul>
<li>I used the latest <strong>stable</strong> release for amd64 (iso file)</li>
<li>I used Etcher for writting to the thumb drive</li>
</ul>
</li>
<li>Boot from the thumb drive.<br><ul>
<li>
<strong>NOTE:</strong> Most guides will have you ‘turn off secure boot’, but I left “Secure Boot: on” and was able to complete everything.</li>
<li>Shutdown and Power off your Surface Pro. <strong>DO NOT</strong> hibernate or sleep the device.</li>
<li>Insert the thumb drive</li>
<li>Hold down the <strong>Volume Down</strong> button while pressing and releasing the power button. I continued to hold the Volume Down button for a few more seconds then releasing it.</li>
<li>You should see a black screen with boot text on it, instead of the usual Windows logo.</li>
<li>You should be greated with the GParted Live boot menu. <strong>NOTE:</strong> The text is extremely small in this menu. I selected the <strong>top</strong> boot option which should be the default.</li>
</ul>
</li>
<li>Once in the live environment open “GParted”.<br><ul>
<li>Right-click the “Recovery Partition” and choose “Resize/Move”</li>
<li>In the new pop-up hover the mouse over the small box representing the partition, your sursor should change to a “<img class="emoji" title=":heavy_plus_sign:" alt=":heavy_plus_sign:" src="https://github.githubassets.com/images/icons/emoji/unicode/2795.png" height="20" width="20">” with arrows. Click and drag the small box representing the partition all the way to the right.<br><ul>
<li>The “Free space preceding (MiB)” should increase.</li>
<li>The “New Size (MiB)” should remain the same.</li>
<li>The “Free space following (MiB)” should decrease to “1” or “0”.</li>
</ul>
</li>
<li>Click the “Resize/Move” button to queue the changes.</li>
<li>Now, right-click the large primary windows partition and choose “Resize/Move”.</li>
<li>In the new window hove you cursor over the right-edge of the small box representing the partition. Your cursor should change to an “<img class="emoji" title=":arrow_right:" alt=":arrow_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/27a1.png" height="20" width="20">”. Click and drag this edge all the way to the right.<br><ul>
<li>The “Free space preceding (MiB)” should remain the same.</li>
<li>The “New Size (MiB)” should increase.</li>
<li>The “Free space following (MiB)” should decrease to “1” or “0”.</li>
</ul>
</li>
<li>Click the “Resize/Move” button to queue the changes.</li>
<li>Click on the Green Checkmark(<img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20">) in the main menu bar to commit the changes.</li>
</ul>
</li>
<li>Once complete, use the shutdown feature of GParted Live and shutdown the machine.</li>
<li>Remove the thumb drive and reboot the Surface Pro. It should boot like normal.</li>
</ol>
<p>After the computer completely rebooted, I openned file explorer, clicked on “This PC” and saw my disk was still showing “~256GB” total capacity. This was wrong, it should be ~512GB. I openned Disk Management, clicked on my Primary Windows partition and clicked “Refresh” from the drop down menu. This caused the Surface Pro to immediately bluescreen and go into Recovery Mode. This took about 1 - 2 minutes to recover. Once it was finished “<em>rebuilding</em>”, it rebooted again. I checked everything and I now had ~512GB full drive capacity available to me.</p>
<p align="center"> <img src="/assets/images/posts/2021-01-09-partitions/disk-management.png"></p>
<p>I’m not sure why this process caused the computer to jump to Recovery Mode. If you know, tell me.</p>
</div>
</div></div></section><footer id="footer"> <!--Footer Button--><div class="container has-text-centered has-background-grey-darker" id="backtotop"> <a class="has-text-white" onclick="window.scroll(0,0)">BACK TO TOP</a>
</div>
<!--Footer Main Section--><div class="has-background-grey-darker"><div class="container columns"> <!--Name Section--><div class="column has-text-left-desktop has-text-centered-mobile"> <a href="https://blog.showipintbri.com/#about"><div class="columns">
<div class="column is-one-fifth-desktop is-one-fifth-fullhd is-one-quarter-tablet"><figure class="image is-64x64"> <img class="is-rounded" src="/assets/images/tonye.jpg"></figure></div>
<div class="column is-marginless">
<h5 class="has-text-grey-lighter">Tony E.</h5>
<div class="content has-text-grey"><p>Tony E. is a network security engineer, CCIE# 64908 &amp; GIAC: Network Fore...</p></div>
</div>
</div></a>
</div>
<!--Link Section--><div class="column has-text-white">
<h3>More Links</h3>
<!--<li> <a href="https://blog.showipintbri.com/blog/tag/certifications">certifications</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/cisco-asa">cisco asa</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/eve-ng">eve-ng</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/future">future</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/giac">giac</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/goals">goals</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/google-cloud">google cloud</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/gparted">gparted</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/hex">hex</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/internet-access">internet access</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/intrusion-prevention">intrusion prevention</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/ips">ips</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/live">live</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/network-collective">network collective</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/network-field-day">network field day</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/network-forensics">network forensics</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/nfd23">nfd23</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/organization">organization</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/partitions">partitions</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/past">past</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/pcap">pcap</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/present">present</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/sans">sans</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/scapy">scapy</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/scripts">scripts</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/sharkfest">sharkfest</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/stream">stream</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/surface-pro">surface pro</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/suricata">suricata</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/t-i-w-a">t.i.w.a</a></li><li> <a href="https://blog.showipintbri.com/tags">Tags</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/tcp">tcp</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/tcpdump">tcpdump</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/tracewrangler">tracewrangler</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/vyos">vyos</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/wireshark">wireshark</a></li><li> <a href="https://blog.showipintbri.com/blog/tag/zeek">zeek</a></li>--><li> <a target="_blank" href="https://blog.showipintbri.com/feed.xml">Subscribe via RSS</a>
</li>
</div>
<!--Blog-post Section--><div class="column has-text-white">
<h3>Recent Posts</h3>
<li> <a href="https://blog.showipintbri.com/blog/docker-wsl2">Docker on WSL2</a>
</li>
<li> <a href="https://blog.showipintbri.com/blog/sharkfest-2021">WiresharkFest 2021 (US)</a>
</li>
<li> <a href="https://blog.showipintbri.com/blog/suricata-vyos">Build Your Own IPS w/ Suricata Container on VyOS Router</a>
</li>
</div>
</div></div>
<div class="has-background-black has-text-centered has-text-white" id="credits"> <i class="far fa-copyright"></i> 2022 | Based on <a href="https://github.com/thedevslot/WhatATheme" target="_blank" rel="noopener noreferrer">WhatATheme</a> by <a href="https://www.twitter.com/thedevslot" target="_blank" rel="noopener noreferrer">TheDevsLot</a> Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>
</div></footer></body></html>
